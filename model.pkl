import pandas as pd
import pickle
from sklearn.feature_extraction.text import TfidfVectorizer
from sklearn.linear_model import LogisticRegression
from sklearn.model_selection import train_test_split

# Sample dataset
data = {
    'review': [
        "Amazing product! It changed my life completely. Must buy!",
        "Terrible quality. Do not waste your money. Worst ever.",
        "Absolutely wonderful experience, great service and staff.",
        "Best phone I've ever had. Can't believe how good it is!",
        "Fake product, broken when arrived. Not worth it.",
        "Very happy with the purchase. Recommended!",
        "Scam! Product does not match the description.",
        "Excellent value for money. Works perfectly."
    ],
    'label': [0, 0, 1, 1, 0, 1, 0, 1]  # 1 = genuine, 0 = fake
}
df = pd.DataFrame(data)

# Split data
X_train, X_test, y_train, y_test = train_test_split(df['review'], df['label'], test_size=0.2, random_state=42)

# Train vectorizer and model
vectorizer = TfidfVectorizer(stop_words='english')
X_train_vec = vectorizer.fit_transform(X_train)

model = LogisticRegression()
model.fit(X_train_vec, y_train)

# Save model and vectorizer
with open("model.pkl", "wb") as f:
    pickle.dump(model, f)

with open("vectorizer.pkl", "wb") as f:
    pickle.dump(vectorizer, f)

print("âœ… model.pkl and vectorizer.pkl saved!")
